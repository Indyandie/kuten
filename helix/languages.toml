use-grammars = { only = [
  "astro",                # a web framework for building fast, content-focused websites using components and islands architecture.
  "awk",                  # a scripting language for text processing and data extraction, commonly used for pattern matching and manipulation.
  "bash",                 # a unix shell and command language for scripting and automating system tasks.
  "bibtex",               # a file format for managing bibliographic references in latex documents.
  "bitbake",              # a build tool used in embedded linux systems like yocto project.
  "c",                    # a general-purpose programming language known for its efficiency and low-level control.
  "caddyfile",            # configuration file format for the caddy web server.
  "clojure",              # a functional programming language on the jvm for concurrent applications.
  "cmake",                # a build system generator for cross-platform software compilation.
  "comment",              # syntax for inline comments in various programming languages.
  "common-lisp",          # a dialect of lisp for general-purpose programming with macros.
  "css",                  # stylesheet language for describing the presentation of web documents.
  "csv",                  # comma-separated values format for tabular data exchange.
  "dhall",                # a programmable configuration language for generating json/yaml.
  "diff",                 # format for showing differences between files or versions.
  "docker-compose",       # yaml format for defining multi-container docker applications.
  "dockerfile",           # script for building docker container images.
  "dot",                  # graph description language for visualizing relationships.
  "dunstrc",              # configuration file for the dunst notification daemon.
  "env",                  # environment variable file format for configuration.
  "fish",                 # friendly interactive shell, a command-line shell with syntax highlighting.
  "ghostty",              # configuration for ghostty terminal emulator.
  "git-attributes",       # git file for defining attributes like merge strategies.
  "git-commit",           # format for git commit messages.
  "git-config",           # configuration file for git settings.
  "git-ignore",           # file specifying patterns for git to ignore.
  "git-notes",            # git feature for attaching notes to commits.
  "git-rebase",           # git command for rebasing commit history.
  "glsl",                 # opengl shading language for gpu programming.
  "go",                   # a statically typed, compiled programming language by google.
  "haskell",              # a purely functional programming language with strong typing.
  "haskell-persistent",   # orm library for haskell database interactions.
  "hosts",                # system file for mapping hostnames to ip addresses.
  "html",                 # hypertext markup language for structuring web pages.
  "hyprlang",             # configuration language for hyprland window manager.
  "ini",                  # simple configuration file format with sections and keys.
  "javascript",           # scripting language for web development and interactivity.
  "jjdescription",        # description format for jujutsu version control.
  "jq",                   # command-line json processor for querying and transforming data.
  "jsdoc",                # documentation syntax for javascript code.
  "json",                 # javascript object notation for data interchange.
  "json-ld",              # json for linking data, extending json with linked data.
  "json5",                # relaxed json format allowing comments and unquoted keys.
  "jsonc",                # json with comments for configuration files.
  "jsx",                  # syntax extension for javascript in react components.
  "just",                 # command runner for defining project tasks.
  "kdl",                  # kdl document language for configuration and data.
  "kotlin",               # modern jvm language for android and server-side development.
  "latex",                # document preparation system for typesetting.
  "ld",                   # linker script language for gnu ld.
  "ldif",                 # ldap data interchange format for directory data.
  "llvm",                 # intermediate representation for compiler optimizations.
  "llvm-mir",             # llvm machine ir for low-level code representation.
  "llvm-mir-yaml",        # yaml format for llvm mir.
  "log",                  # generic format for application logs.
  "lua",                  # lightweight scripting language for embedded systems.
  "luau",                 # lua variant used in roblox for game scripting.
  "mail",                 # format for email messages.
  "make",                 # build automation tool using makefiles.
  "markdoc",              # markdown-based documentation format.
  "markdown",             # lightweight markup language for formatting text.
  "markdown-rustdoc",     # markdown for rust documentation comments.
  "markdown.inline",      # inline markdown syntax.
  "mermaid",              # text-based diagramming tool for flowcharts.
  "meson",                # build system for cross-platform compilation.
  "move",                 # smart contract language for blockchain.
  "nasm",                 # assembler for x86 architecture.
  "nestedtext",           # human-readable data format.
  "nginx",                # configuration language for nginx web server.
  "nix",                  # functional language for package management.
  "nu",                   # shell and scripting language for data manipulation.
  "ocaml",                # functional programming language with strong typing.
  "ocaml-interface",      # interface files for ocaml modules.
  "odin",                 # systems programming language inspired by c.
  "ohm",                  # parsing expression grammar language.
  "opencl",               # language for parallel programming on gpus.
  "openscad",             # script-based 3d modeling language.
  "org",                  # markup language for emacs org mode.
  "passwd",               # system file for user account information.
  "pem",                  # format for storing cryptographic keys.
  "pest",                 # parser generator for rust.
  "pkgbuild",             # build script for arch linux packages.
  "pkl",                  # configuration language for data validation.
  "po",                   # format for internationalization and localization.
  "properties",           # key-value configuration format.
  "protobuf",             # protocol buffers for serializing structured data.
  "prql",                 # query language compiling to sql.
  "python",               # high-level programming language for general-purpose use.
  "regex",                # regular expression syntax for pattern matching.
  "rego",                 # policy language for open policy agent.
  "robot",                # test automation framework syntax.
  "ruby",                 # dynamic programming language for web apps.
  "rust",                 # systems programming language with memory safety.
  "rust-format-args",     # formatting macros in rust.
  "rust-format-args-maâ€¦", # abbreviated rust formatting.
  "scheme",               # dialect of lisp for functional programming.
  "scss",                 # syntactically awesome stylesheets for css.
  "smali",                # assembly language for android apks.
  "sml",                  # standard ml, functional programming language.
  "snakemake",            # workflow management for bioinformatics.
  "sql",                  # structured query language for databases.
  "sshclientconfig",      # ssh client configuration format.
  "svelte",               # framework for building web uis.
  "systemd",              # configuration for systemd services.
  "task",                 # task runner configuration.
  "tcl",                  # tool command language for scripting.
  "templ",                # template language for go.
  "tera",                 # template engine for rust.
  "textproto",            # text format for protocol buffers.
  "todotxt",              # plain text todo list format.
  "toml",                 # configuration file format.
  "tsq",                  # tree-sitter query language.
  "tsx",                  # typescript with jsx.
  "typescript",           # typed superset of javascript.
  "typst",                # markup language for typesetting.
  "ungrammar",            # grammar definition for rust analyzer.
  "unison",               # functional programming language with code sharing.
  "vento",                # template engine for deno.
  "wast",                 # webassembly text format.
  "wat",                  # webassembly text representation.
  "webc",                 # web component format.
  "werk",                 # workflow language.
  "wit",                  # webassembly interface types.
  "xml",                  # extensible markup language for data.
  "yaml",                 # human-readable data serialization.
  "yuck",                 # configuration language for yuck.
] }

# snippets
[language-server.scls]
command = "simple-completion-language-server"

[language-server.scls.config]
max_completion_items = 100           # set max completion results len for each group: words, snippets, unicode-input
feature_words = true                 # enable completion by word
feature_snippets = true              # enable snippets
snippets_first = true                # completions will return before snippets by default
snippets_inline_by_word_tail = false # suggest snippets by WORD tail, for example text `xsq|` become `x^2|` when snippet `sq` has body `^2`
feature_unicode_input = false        # enable "unicode input"
feature_paths = false                # enable path completion
feature_citations = false            # enable citation completion (only on `citation` feature enabled)


# write logs to /tmp/completion.log
[language-server.scls.environment]
RUST_LOG = "info,simple-completion-language-server=info"
LOG_FILE = "/tmp/completion.log"

[[language]]
name = "bash"
indent = { tab-width = 4, unit = "    " }
formatter = { command = 'shfmt', args = ["-i", "4"] }

# HTML

[language-server.emmet-ls]
command = "emmet-ls"
args = ["--stdio"]

[language-server.vscode-html]
command = "vscode-html-language-server"
args = ["--stdio"]

[[language]]
name = "html"
language-servers = ["vscode-html", "emmet-ls", "tailwindcss-ls", "scls"]
auto-format = false
formatter = { command = 'zsh', args = [
  "-c",
  "deno fmt - --ext html --prose-wrap preserve --line-width 128 --no-semicolons --single-quote | sd '<(br|hr) />' '<$1>'",
] } # multi formatter workaround https://github.com/helix-editor/helix/discussions/7749


# CSS

[[language]]
name = "css"
language-servers = ["vscode-css-language-server", "tailwindcss-ls", "scls"]
auto-format = false
formatter = { command = 'deno', args = [
  "fmt",
  "-",
  "--ext",
  "css",
  "--unstable-css",
  "--prose-wrap",
  "preserve",
  "--line-width",
  "999999",
] }

# tailwindcss formatter config

# npm install -D prettier-plugin-tailwindcss
# 
# .prettierrc.yaml
#
# plugins:
#   - "prettier-plugin-tailwindcss" # must be last

# SCSS

[[language]]
name = "scss"
language-servers = ["vscode-css-language-server", "scls"]
auto-format = false
formatter = { command = 'deno', args = [
  "fmt",
  "-",
  "--ext",
  "scss",
  "--unstable-css",
  "--prose-wrap",
  "preserve",
  "--line-width",
  "999999",
] }

# Svelte

[[language]]
name = "svelte"
language-servers = ["svelteserver", "tailwindcss-ls", "scls"]
auto-format = false
formatter = { command = 'zsh', args = [
  "-c",
  "deno fmt - --ext svelte --unstable-component --prose-wrap preserve --line-width 128 --no-semicolons --single-quote | sd '<(br|hr) />' '<$1>'",
] }

# formatter = { command = 'prettier', args = [
#   "--parser",
#   "svelte",
#   "--no-semi",
#   "--single-quote",
#   "--bracket-same-line",
# ] }

# formatter requires the following

# install the prettier plugin locally in the project - https://github.com/sveltejs/prettier-plugin-svelte

# npm i --save-dev prettier-plugin-svelte
#
# .prettierrc.yaml - formatter config
#
# plugins:
#   - "prettier-plugin-svelte"

# JS

[language-server.deno-lsp]
command = "deno"
args = ["lsp"]
environment = { NO_COLOR = "1" }

[language-server.deno-lsp.config]

# inlay hints
javascript.inlayHints.parameterNames.enabled = "all"
javascript.inlayHints.propertyDeclarationTypes.enabled = true
javascript.inlayHints.enumMemberValues.enabled = true
javascript.inlayHints.parameterTypes.enabled = false          # overkill
javascript.inlayHints.variableTypes.enabled = false           # overkill
javascript.inlayHints.functionLikeReturnTypes.enabled = false

typescript.inlayHints.parameterNames.enabled = "all"
typescript.inlayHints.parameterTypes.enabled = true
typescript.inlayHints.propertyDeclarationTypes.enabled = true
typescript.inlayHints.enumMemberValues.enabled = true
typescript.inlayHints.variableTypes.enabled = true
typescript.inlayHints.functionLikeReturnTypes.enabled = false

[language-server.deno-lsp.config.deno]
enable = true
unstable = true
suggest = { completeFunctionCalls = false, imports = { hosts = { "https://deno.land" = true } } }

[[language]]
name = "javascript"
shebangs = ["deno"]
roots = ["deno.json", "deno.jsonc"]
language-servers = ["deno-lsp", "scls"]
formatter = { command = 'deno', args = [
  "fmt",
  "-",
  "--ext",
  "js",
  "--prose-wrap",
  "preserve",
  "--line-width",
  "999999",
  "--no-semicolons",
  "--single-quote",
] }

[[language]]
name = "jsx"
shebangs = ["deno"]
roots = ["deno.json", "deno.jsonc"]
language-servers = ["deno-lsp", "tailwindcss-ls", "scls"]
formatter = { command = 'deno', args = [
  "fmt",
  "-",
  "--ext",
  "jsx",
  "--no-semicolons",
  "--single-quote",
  "--prose-wrap",
  "preserve",
  "--line-width",
  "999999",
] }

# typescript

[[language]]
name = "typescript"
shebangs = ["deno"]
roots = ["deno.json", "deno.jsonc"]
language-servers = ["deno-lsp", "scls"]
formatter = { command = 'deno', args = [
  "fmt",
  "-",
  "--ext",
  "ts",
  "--prose-wrap",
  "preserve",
  "--line-width",
  "999999",
  "--no-semicolons",
  "--single-quote",
] }

[[language]]
name = "tsx"
shebangs = ["deno"]
roots = ["deno.json", "deno.jsonc"]
language-servers = ["deno-lsp", "tailwindcss-ls", "scls"]
formatter = { command = 'deno', args = [
  "fmt",
  "-",
  "--ext",
  "tsx",
  "--prose-wrap",
  "preserve",
  "--line-width",
  "999999",
  "--no-semicolons",
  "--single-quote",
] }

# Astro

[language-server.astro-ls]
command = "astro-ls"
args = ["--stdio"]
# to get the tsdk if typescript is installed globally run
# npm list -g | head -1
config = { typescript = { tsdk = "##TSDK##" }, environment = "node" }


[[language]]
name = "astro"
language-servers = ["astro-ls", "tailwindcss-ls", "scls"]
auto-format = false
formatter = { command = 'zsh', args = [
  "-c",
  "deno fmt - --ext astro --unstable-component --prose-wrap preserve --line-width 128 --no-semicolons --single-quote | sd '<(br|hr) />' '<$1>'",
] }

# formatter = { command = 'prettier', args = [
#   "--parser",
#   "astro",
#   "--print-width",
#   "100000000000000000000",
#   "--no-semi",
#   "--single-quote",
#   "--bracket-same-line",
# ] }

# formatter requires the following

# install prettier locally on the project - https://github.com/withastro/prettier-plugin-astro
# npm i --save-dev prettier-plugin-astro

# .prettierrc.yaml - formatter config 
#
# plugins:
#   - "prettier-plugin-astro"
# overrides:
#   - files: "*.astro"
#     options:
#       parser: "astro"


# Markdown

[language-server.ltex-ls.config]
ltex.disabledRules = { "en-US" = ["PROFANITY"], "en-GB" = ["PROFANITY"] }
ltex.dictionary = { "en-US" = ["builtin"], "en-GB" = ["builtin"] }

[[language]]
name = "markdown"
file-types = [
  "md",
  "mdx",
  "markdown",
  "mkd",
  "mkdn",
  "mdwn",
  "mdown",
  "markdn",
  "mdtxt",
  "mdtext",
  "workbook",
  { glob = "PULLREQ_EDITMSG" },
]
language-servers = [
  "marksman",
  "ltex-ls",
  "markdown-oxide",
  "vscode-html-language-server",
  "scls",
]
formatter = { command = 'zsh', args = [
  "-c",
  "deno fmt - --ext md --prose-wrap preserve --line-width 999999 | sd '<(br|hr) />' '<$1>'",
] }

[language.auto-pairs]
'~' = '~'
'_' = '_'
'(' = ')'
'{' = '}'
'[' = ']'
'"' = '"'

# TOML

# ## Installation 

# ```sh
# cargo install taplo-cli --locked --features lsp
# ```
# sudo ln -s ~/.cargo/bin/taplo /bin ls

[[language]]
name = "toml"
formatter = { command = "taplo", args = ["format", "-"] }
language-servers = ["scls"]

# SQL

[language-server.sql-language-server]
command = "sql-language-server"
args = ["up", "--method", "stdio"]

[language-server.sqls]
command = "sqls"

[[language]]
name = "sql"
language-servers = ["sql-language-server", "sqls", "scls"]
formatter = { command = "sqlformat", args = [
  "--reindent",
  "--indent_width",
  "2",
  "--keywords",
  "upper",
  "--identifiers",
  "lower",
  "-",
] }
# formatter = { command = "sql-formatter", args = [
#   "-l", "snowflake",
#   "-c",
#   '{ "language": "snowflake", "tabWidth": 2, "keywordCase": "upper"}',
# ] }

# py

[[language]]
name = "python"
formatter = { command = "black", args = ["--quiet", "-"] }

# JSON

[[language]]
name = "json"
auto-format = false
formatter = { command = 'deno', args = [
  "fmt",
  "-",
  "--ext",
  "json",
  "--prose-wrap",
  "never",
  "--line-width",
  "999999",
] }

# nix

[[language]]
name = "nix"
formatter = { command = "nixpkgs-fmt" }

# YAML

[language-server.yaml-language-server.config.yaml]
format = { enable = true }
validation = true

[[language]]
name = "yaml"
auto-format = false
formatter = { command = 'deno', args = ["fmt", "-", "--ext", "yaml"] }


# Typst

[[language]]
name = "typst"
formatter = { command = 'typstfmt' }

[[language]]
name = "git-commit"
language-servers = ["scls"]

# vento

[[grammar]]
name = "vento"
source = { git = "https://github.com/ventojs/tree-sitter-vento", rev = "main" }

[[language]]
name = "vento"
grammar = "vento"
scope = "source.vento"
injection-regex = "vento"
file-types = ["vto"]
language-servers = ["vscode-html", "emmet-ls", "tailwindcss-ls", "scls"]
